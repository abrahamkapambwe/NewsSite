(function(n){"use strict";var i="_juiceWidgetOptions",t={widgets:{},subscribe:window.amplify.subscribe,publish:window.amplify.publish,onSubmit:function(){var u=n("#"+i),r=[];n.each(t.widgets,function(t,i){var o=n("#"+i.id),e=i.widgetName,f=o.data(e),u;if(!f)return;u=n.extend({},f.options),n.each(u,function(t){n.inArray(t,i.encodedOptions)<0||(u[t]=h(this))}),r.push({id:i.id,widgetName:e,options:u})}),u.val(JSON.stringify(r))}},e=function(){if(!n("#_jQueryUICss").length){var r=t.cssUrl,i='<link rel="stylesheet" type="text/css" href="'+r+'" />';n("head").append(i)}},f=function(){if(typeof window.JSON=="undefined")throw new Error("Juice requires JSON support. Please ensure json2.js is referenced for downlevel browsers.");n("#"+i).length||n('<input id="'+i+'" name="'+i+'" type="hidden" />').appendTo(window.theForm),n.each(t.widgets,function(i,r){var f=n("#"+r.id),u=r.widgetName,e={};if(!u||!n.fn[u])return;r.events=n.map(r.events,function(n){return{name:n}}),r.postBacks=n.map(r.postBacks,function(n){return n.causesPostBack=!0,n}),r.events=r.events.concat(r.postBacks),n.each(r.events,function(){var n=this;e[n.name]=function(){var o=[].slice.call(arguments,0),h=r.id+"."+u+"."+n.name,s=f.data(u);o.splice(0,0,h),o.push(s),t.publish.apply(this,o),n.causesPostBack&&window.__doPostBack(r.uniqueId,n.dataChangedEvent?"":n.name)}}),n.each(r.options,function(n){if(this.eval){var i=this.on;try{r.options[n]=eval("("+this.on+")")}catch(t){delete r.options[n],window.console&&console.log&&console.log("Juice UI Error > elementId: "+r.id+'. widget: "'+u+'". Bad data in "'+n+'" option.')}}}),n.extend(r.options,e),f.data(u)||f[u](r.options),f[0].dispose=function(){delete t.widgets[r.id]}})},o=function(){f(),e()},h=function(t){return n("<div/>").text(t).html()},c=n.datepicker._attachDatepicker,s=n.datepicker._optionDatepicker,u,r;n.datepicker._attachDatepicker=function(n){var t;c.apply(this,arguments),t=this._getInst(n),t.options={},this._refreshOptions(n)},n.datepicker._refreshOptions=function(t){var i=this._getInst(t);n.each(this._defaults,function(t){i.options[t]=n.datepicker._get(i,t)})},n.datepicker._optionDatepicker=function(n){s.apply(this,arguments),this._refreshOptions(n)},n.ui.tabs.prototype._created=!1,u=n.ui.tabs.prototype._tabify,r=n.ui.tabs.prototype._trigger,n.ui.tabs.prototype._tabify=function(){u.apply(this,arguments),this._created=!0},n.ui.tabs.prototype._trigger=function(n){return n==="show"&&!this._created?!1:r.apply(this,arguments)},n(f),Sys.WebForms.PageRequestManager.getInstance().add_endRequest(o),window.Juice=t})(jQuery)